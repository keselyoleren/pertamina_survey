{% extends 'customer/layout/main.html' %}
{% load static %}
{% block css %}
    <link rel="stylesheet" href="https://unpkg.com/survey-jquery@1.9.98/defaultV2.min.css" />
{% endblock  %}
{% block content %}
<div class="" role="main">
    <div class="container">
        <div class="row">
            <div class="col-md-12 center">
                <div class="heading heading-border heading-middle-border heading-middle-border-center">
                    <h1><strong>Survey</strong></h1>
                </div>
            </div>
        </div>
        <div id="surveyElement"></div>
        
    </div>
</div>
{% endblock %}
{% block js %}
<script src="https://unpkg.com/jquery/dist/jquery.min.js"></script>
<script src="https://unpkg.com/survey-jquery@1.9.98/survey.jquery.min.js"></script>
<script>
    const json_strinig = '{{ model_survey|safe }}'
    const json_model = JSON.parse(json_strinig)
    const survey = new Survey.Model(json_model);
    survey.onComplete.add((sender, options) => {
        console.log("Survey results: " + JSON.stringify(sender.data))
        console.log(JSON.stringify(sender.data));
    });

    $("#surveyElement").Survey({ model: survey });
</script>

{% endblock  %}
